utils = require 'utils'
g = require './../global'

headers =
  showAll: (req, res) ->
    headers = g.storage.data.headers
    hTitle = headers[1].content
    description = headers['2'].content
    keywords = headers['3'].content
    res.render(
      'headers'
      {
        title: 'Headers'
        hTitle: hTitle
        description: description
        keywords: keywords
      }
    )
  edit: (req, res) ->
    if utils.empty req.body.title
      return res.error 'Please choose a valid title!'
    if utils.empty req.body.description
      return res.error 'Please choose a valid description!'
    if utils.empty req.body.keywords
      return res.error 'Please choose valid keywords!'

    g.storage.data.headers['1'].content = req.body.title
    g.storage.data.headers['2'].content = req.body.description
    g.storage.data.headers['3'].content = req.body.keywords

    res.info 'Header data successfully updated!'

module.exports = headers